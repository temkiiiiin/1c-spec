# Тезисы

* Торговая компания покупает и продает товары/услуги. Товары и услуги указываются в одной табличной части
* Учет товаров по складам не ведется
* Контроль остатков с оповещением о нехватке товаров при продаже
* Списание себестоимости товаров должно быть организовано по партиям и зависеть от текущей учетной политики
* Учетная политика устанавливается год. На следующий год может измениться
* Структуры требуемых отчетов
  * Продажи: Номенклатура, Количество, Себестоимость, Стоимость, Прибыль, где Прибыль считается как "Стоимость - Себестоимость"
  
        |   Номенклатура    |   Количество  |   Себестоимость   |   Стоимость   |   Прибыль |
        -------------------------------------------------------------------------------------
        |   Торт Тирамису   |   2           |   1400            |   2600        |   1200    |
        |   Кекс            |   6           |   240             |   600         |   360     |
        |   Доставка        |   1           |                   |   100         |   100     |
    
  * Остатки: Номенклатура, Партия, Количество, Стоимость с группировкой по полю Номенклатура
  
        |   Номенклатура    |   Партия                  |   Количество  |   Стоимость   |
        ---------------------------------------------------------------------------------
        |   Торт Тирамису   |                           |   3           |   2100        |
        |                   |   Приходная накладная 1   |   2           |   1400        |
        |                   |   Приходная накладная 2   |   1           |   700         |
        |   Кекс            |                           |   10          |   400         |
        |                   |   Приходная накладная 1   |   7           |   280         |
        |                   |   Приходная накладная 3   |   3           |   120         |


# Решение

## Исследование тезисов:
* ***"Торговая компания покупает и продает товары/услуги. Товары и услуги указываются в одной табличной части".*** Для операций покупки/продажи потребуются 2 документа - "Приходная накладная" и "Расходная накладная". Среди товаров будут услуги, значит, требуется справочник "Товары" с признаком, услуга это или нет.
* ***"Учет товаров по складам не ведется".*** Значит, весть товар организации хранится на одном складе и хранить остатки в разрезе складов не требуется.
* ***"Контроль остатков с оповещением о нехватке товаров при продаже".*** При проведении документа "Расходная накладная" необходимо учитывать остатки товаров и, если товара не хватает, запрещать проводить документ, сообщать о нехватке товара.
* ***"Списание себестоимости товаров должно быть организовано по партиям и зависеть от текущей учетной политики. Учетная политика устанавливается год. На следующий год может измениться".*** Нужно вести учет в разрезе партий. Т.к. значения учетной политики изменяться не будут, для их хранения используем объект Перечисление. Списание стоимости нужно организовать по методу, установленному учетной политикой на текущий год. Для учетной политики будем использовать регистр сведений с периодичностью "Год".

Исходя из структуры требуемых отчетов видно, что нужно знать остатки товаров и продажи. В обоих случаях будем использовать регистры накопления. Для учета остатков - регистр накопления Остатки товаров с полями Номенклатура, Партия, Количество, Стоимость, где партия - документ "Приходная накладная". Для учета продаж буду использовать оборотный регистр накопления с полями Номенклатура, Количество, Стоимость, Себестоимость. Прибыль записывать не будем, так как ее можно рассчитать как "Стоимость - Себестоимость".

## Разработка

### Начнем разработку с обработки проведения документа Приходная накладная. 